<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PJL Connect - Interactive System Map</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .module-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.15);
        }

        .menu-item {
            transition: all 0.2s ease;
        }

        .menu-item:hover {
            background-color: rgba(91, 192, 222, 0.1);
        }

        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .submenu.open {
            max-height: 1000px;
        }

        .bot-flow {
            border-left: 3px solid #5BC0DE;
        }

        .arrow::after {
            content: '‚Üí';
            margin-left: 8px;
            color: #5BC0DE;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-[#1E5A6B] text-white p-6 shadow-lg">
        <div class="max-w-7xl mx-auto">
            <h1 class="text-3xl font-bold">PJL Connect - Interactive System Map</h1>
            <p class="text-[#5BC0DE] mt-2">Click modules to explore menu structure</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-8">
        <!-- Module Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">

            <!-- Back-Office Module -->
            <div class="module-card bg-white rounded-2xl shadow-md overflow-hidden"
                onclick="toggleModule('backoffice')">
                <div class="bg-[#1E5A6B] p-4 text-white flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">üñ•Ô∏è</span>
                        <div>
                            <h2 class="font-bold text-lg">Back-Office (Web App)</h2>
                            <p class="text-sm text-white/70">OPS, Broker, Accounting, Management</p>
                        </div>
                    </div>
                    <span id="backoffice-arrow" class="text-2xl transition-transform">‚ñº</span>
                </div>
                <div id="backoffice-menu" class="submenu">
                    <div class="p-4 space-y-2">
                        <!-- Dashboard -->
                        <div class="menu-item p-3 rounded-lg border border-gray-100"
                            onclick="event.stopPropagation(); toggleSubmenu('dashboard')">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold text-[#1E5A6B]">üìä Dashboard</span>
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded">Modern Style</span>
                            </div>
                            <div id="dashboard-sub" class="submenu mt-2 pl-4 space-y-1 text-sm text-gray-600">
                                <div class="py-1">‚Ä¢ Pulse Snapshot <code
                                        class="text-xs bg-gray-100 px-1">x-dashboard.pulse-snapshot</code></div>
                                <div class="py-1">‚Ä¢ Volume Counter <code
                                        class="text-xs bg-gray-100 px-1">x-dashboard.volume-counter</code></div>
                                <div class="py-1">‚Ä¢ Team Workload <code
                                        class="text-xs bg-gray-100 px-1">x-dashboard.team-workload</code></div>
                                <div class="py-1">‚Ä¢ Management Summary <code
                                        class="text-xs bg-gray-100 px-1">x-dashboard.management-summary</code></div>
                            </div>
                        </div>

                        <!-- Jobs -->
                        <div class="menu-item p-3 rounded-lg border border-gray-100"
                            onclick="event.stopPropagation(); toggleSubmenu('jobs')">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold text-[#1E5A6B]">üì¶ Jobs</span>
                                <span class="text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded">Clean Style</span>
                            </div>
                            <div id="jobs-sub" class="submenu mt-2 pl-4 space-y-1 text-sm text-gray-600">
                                <div class="py-1">‚Ä¢ Kanban Board <code
                                        class="text-xs bg-gray-100 px-1">x-jobs.kanban-board</code></div>
                                <div class="py-1 pl-4 text-gray-400">‚Ü≥ New ‚Üí Assigned ‚Üí Pickup ‚Üí Transit ‚Üí Customs ‚Üí
                                    Delivered ‚Üí Closed</div>
                                <div class="py-1">‚Ä¢ Job Detail Panel <code
                                        class="text-xs bg-gray-100 px-1">x-jobs.detail-panel</code></div>
                                <div class="py-1 pl-4 text-gray-400">‚Ü≥ Tabs: Documents, Tracking, Compliance,
                                    Financials, History</div>
                                <div class="py-1">‚Ä¢ Exception Terminal <code
                                        class="text-xs bg-gray-100 px-1">x-jobs.exception-terminal</code></div>
                                <div class="py-1">‚Ä¢ Carrier Assignment <code
                                        class="text-xs bg-gray-100 px-1">x-jobs.carrier-assignment</code></div>
                                <div class="py-1">‚Ä¢ Nag Monitor <code
                                        class="text-xs bg-gray-100 px-1">x-jobs.nag-monitor</code></div>
                            </div>
                        </div>

                        <!-- Bookings -->
                        <div class="menu-item p-3 rounded-lg border border-gray-100"
                            onclick="event.stopPropagation(); toggleSubmenu('bookings')">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold text-[#1E5A6B]">üìù Bookings</span>
                                <span class="text-xs bg-purple-100 text-purple-600 px-2 py-0.5 rounded">Customer
                                    Orders</span>
                            </div>
                            <div id="bookings-sub" class="submenu mt-2 pl-4 space-y-1 text-sm text-gray-600">
                                <div class="py-1 text-xs text-blue-600 font-medium">1:1 sync with Jobs</div>
                                <div class="py-1">‚Ä¢ Booking List <code
                                        class="text-xs bg-gray-100 px-1">x-bookings.list-table</code></div>
                                <div class="py-1 pl-4 text-gray-400">‚Ü≥ Filters: New, Active, Completed (synced from Job
                                    status)</div>
                                <div class="py-1">‚Ä¢ Booking Detail <code
                                        class="text-xs bg-gray-100 px-1">x-bookings.detail-view</code></div>
                                <div class="py-1 pl-4 text-gray-400">‚Ü≥ Booking Info, Status (synced), Documents, Linked
                                    Job
                                </div>
                                <div class="py-1">‚Ä¢ Request Queue <code
                                        class="text-xs bg-gray-100 px-1">x-bookings.request-queue</code></div>
                                <div class="py-1 pl-4 text-gray-400">‚Ü≥ Approve ‚Üí Creates Booking + Job together</div>
                                <div class="py-1">‚Ä¢ Multi-Leg Builder <span
                                        class="text-xs text-orange-500">(Growth)</span></div>
                            </div>
                        </div>

                        <!-- Financial -->
                        <div class="menu-item p-3 rounded-lg border border-gray-100"
                            onclick="event.stopPropagation(); toggleSubmenu('financial')">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold text-[#1E5A6B]">üí∞ Financial</span>
                                <span class="text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded">Clean Style</span>
                            </div>
                            <div id="financial-sub" class="submenu mt-2 pl-4 space-y-1 text-sm text-gray-600">
                                <div class="py-1">‚Ä¢ Financial Overview <code
                                        class="text-xs bg-gray-100 px-1">x-financial.overview</code></div>
                                <div class="py-1">‚Ä¢ Invoice List <code
                                        class="text-xs bg-gray-100 px-1">x-financial.invoice-list</code></div>
                                <div class="py-1">‚Ä¢ Invoice Generator <code
                                        class="text-xs bg-gray-100 px-1">x-financial.invoice-generator</code></div>
                                <div class="py-1">‚Ä¢ Cost Entry <code
                                        class="text-xs bg-gray-100 px-1">x-financial.cost-entry</code></div>
                                <div class="py-1">‚Ä¢ Export Panel <code
                                        class="text-xs bg-gray-100 px-1">x-financial.export-panel</code></div>
                            </div>
                        </div>

                        <!-- Settings -->
                        <div class="menu-item p-3 rounded-lg border border-gray-100"
                            onclick="event.stopPropagation(); toggleSubmenu('settings')">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold text-[#1E5A6B]">‚öôÔ∏è Configurator</span>
                            </div>
                            <div id="settings-sub" class="submenu mt-2 pl-4 space-y-1 text-sm text-gray-600">
                                <div class="py-1">‚Ä¢ Customer Database <code
                                        class="text-xs bg-gray-100 px-1">x-configurator.customer-list</code></div>
                                <div class="py-1">‚Ä¢ Carrier Database <code
                                        class="text-xs bg-gray-100 px-1">x-configurator.carrier-list</code></div>
                                <div class="py-1">‚Ä¢ Identity Center (RBAC) <code
                                        class="text-xs bg-gray-100 px-1">x-configurator.identity-center</code></div>
                                <div class="py-1">‚Ä¢ Service Rules <span class="text-xs text-orange-500">(Growth)</span>
                                </div>
                                <div class="py-1">‚Ä¢ Geofence Manager <span
                                        class="text-xs text-orange-500">(Growth)</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customer Bot Module -->
            <div class="module-card bg-white rounded-2xl shadow-md overflow-hidden"
                onclick="toggleModule('customerbot')">
                <div class="bg-[#5BC0DE] p-4 text-white flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">ü§ñ</span>
                        <div>
                            <h2 class="font-bold text-lg">Customer Bot (Telegram)</h2>
                            <p class="text-sm text-white/70">@PJLConnectBot</p>
                        </div>
                    </div>
                    <span id="customerbot-arrow" class="text-2xl transition-transform">‚ñº</span>
                </div>
                <div id="customerbot-menu" class="submenu">
                    <div class="p-4 space-y-3">
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/start</div>
                            <div class="text-sm text-gray-500 mt-1">Welcome + Telegram ID Binding</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">New User? Enter company code</div>
                            <div class="text-xs text-gray-400 arrow">Returning? Show main menu</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/new</div>
                            <div class="text-sm text-gray-500 mt-1">Create New Booking</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Select Service (Truck/Sea/Air)</div>
                            <div class="text-xs text-gray-400 arrow">Upload Documents</div>
                            <div class="text-xs text-gray-400 arrow">OCR Processing</div>
                            <div class="text-xs text-gray-400 arrow">Visual Receipt Card</div>
                            <div class="text-xs text-gray-400 arrow">Confirm Booking</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/track</div>
                            <div class="text-sm text-gray-500 mt-1">Track Active Shipments</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Show active jobs list</div>
                            <div class="text-xs text-gray-400 arrow">Tap for status + location + ETA</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/docs</div>
                            <div class="text-sm text-gray-500 mt-1">Upload Documents (Deadline-aware)</div>
                            <span class="text-xs text-orange-500">(Growth Phase)</span>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/help</div>
                            <div class="text-sm text-gray-500 mt-1">Escalate to Human OPS</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carrier Bot Module -->
            <div class="module-card bg-white rounded-2xl shadow-md overflow-hidden"
                onclick="toggleModule('carrierbot')">
                <div class="bg-[#1E5A6B] p-4 text-white flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">üöö</span>
                        <div>
                            <h2 class="font-bold text-lg">Carrier & Driver Bot (Telegram)</h2>
                            <p class="text-sm text-white/70">@PJLCarrierBot</p>
                        </div>
                    </div>
                    <span id="carrierbot-arrow" class="text-2xl transition-transform">‚ñº</span>
                </div>
                <div id="carrierbot-menu" class="submenu">
                    <div class="p-4 space-y-3">
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/enroll</div>
                            <div class="text-sm text-gray-500 mt-1">Carrier/Driver Registration</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Carrier: Enter registration code</div>
                            <div class="text-xs text-gray-400 arrow">Driver: Scan QR from carrier</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/accept</div>
                            <div class="text-sm text-gray-500 mt-1">Accept/Decline Job Offers</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Job Card with details + rate</div>
                            <div class="text-xs text-gray-400 arrow">Accept ‚Üí Driver selection</div>
                            <div class="text-xs text-gray-400 arrow">No response ‚Üí Nag Loop (5/10/15/20 min)</div>
                            <div class="text-xs text-gray-400 arrow">Timeout ‚Üí Escalate to OPS</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/location</div>
                            <div class="text-sm text-gray-500 mt-1">Toggle Live Location Sharing</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Uses Telegram native feature</div>
                            <div class="text-xs text-gray-400 arrow">GPS stream ‚Üí Geofence triggers</div>
                        </div>
                        <div class="bot-flow pl-4 py-2">
                            <div class="font-mono font-bold text-[#1E5A6B]">/status</div>
                            <div class="text-sm text-gray-500 mt-1">Manual Status Override</div>
                            <div class="text-xs text-gray-400 mt-1 arrow">Arrived at Pickup</div>
                            <div class="text-xs text-gray-400 arrow">Departed</div>
                            <div class="text-xs text-gray-400 arrow">Arrived at Destination</div>
                            <div class="text-xs text-gray-400 arrow">Delivered</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- OPS Bot Module -->
            <div class="module-card bg-white rounded-2xl shadow-md overflow-hidden" onclick="toggleModule('opsbot')">
                <div class="bg-[#5BC0DE] p-4 text-white flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">üì¢</span>
                        <div>
                            <h2 class="font-bold text-lg">OPS Internal Bot (Telegram Group)</h2>
                            <p class="text-sm text-white/70">@PJLOpsBot (Notification-only)</p>
                        </div>
                    </div>
                    <span id="opsbot-arrow" class="text-2xl transition-transform">‚ñº</span>
                </div>
                <div id="opsbot-menu" class="submenu">
                    <div class="p-4 space-y-3">
                        <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                            <div class="font-semibold text-green-700 mb-2">‚úÖ Real-time Alerts</div>
                            <div class="text-sm text-gray-600 space-y-1">
                                <div>üì¶ New Booking ‚Üí Deep link to /bookings/{id}</div>
                                <div>‚úÖ Carrier Accepted ‚Üí Deep link to /jobs/{id}</div>
                                <div>üöö Driver Assigned ‚Üí Deep link to /jobs/{id}/tracking</div>
                                <div>üìç Status Changed ‚Üí Info message</div>
                            </div>
                        </div>
                        <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                            <div class="font-semibold text-red-700 mb-2">‚ö†Ô∏è Exception Pings</div>
                            <div class="text-sm text-gray-600 space-y-1">
                                <div>üîï Silence Escalation ‚Üí GPS offline > 15 min</div>
                                <div>‚è∞ Carrier Non-Response ‚Üí Nag timeout</div>
                                <div>üîç OCR Low Confidence ‚Üí Manual review needed</div>
                            </div>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                            <div class="font-semibold text-blue-700 mb-2">üîó Deep Links</div>
                            <div class="text-sm text-gray-600">
                                All buttons link to Back-Office with auto-auth token
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Integration Legend -->
        <div class="bg-white rounded-2xl shadow-md p-6">
            <h3 class="font-bold text-lg text-[#1E5A6B] mb-4">üîÑ Cross-Module Integration</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                <div class="p-4 bg-gray-50 rounded-lg">
                    <div class="font-semibold mb-2">Customer ‚Üí System ‚Üí OPS</div>
                    <div class="text-gray-500">Customer Bot creates booking ‚Üí OCR ‚Üí OPS notified ‚Üí Kanban updated</div>
                </div>
                <div class="p-4 bg-gray-50 rounded-lg">
                    <div class="font-semibold mb-2">OPS ‚Üí Carrier ‚Üí Driver</div>
                    <div class="text-gray-500">OPS assigns carrier ‚Üí Carrier Bot offer ‚Üí Driver binds ‚Üí Location starts
                    </div>
                </div>
                <div class="p-4 bg-gray-50 rounded-lg">
                    <div class="font-semibold mb-2">Driver ‚Üí System ‚Üí Customer</div>
                    <div class="text-gray-500">Driver GPS ‚Üí Geofence trigger ‚Üí Status update ‚Üí Customer notified</div>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center text-gray-400 text-sm py-8">
        PJL Connect UX Design Specification - Option C: Interactive System Map
    </footer>

    <script>
        function toggleModule(id) {
            const menu = document.getElementById(id + '-menu');
            const arrow = document.getElementById(id + '-arrow');
            menu.classList.toggle('open');
            arrow.style.transform = menu.classList.contains('open') ? 'rotate(180deg)' : '';
        }

        function toggleSubmenu(id) {
            const sub = document.getElementById(id + '-sub');
            sub.classList.toggle('open');
        }

        // Open all modules by default
        ['backoffice', 'customerbot', 'carrierbot', 'opsbot'].forEach(id => toggleModule(id));
    </script>
</body>

</html>